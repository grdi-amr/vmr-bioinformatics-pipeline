Jul-12 13:52:08.165 [main] DEBUG nextflow.cli.Launcher - $> nextflow run download_databases.nf -profile conda --download_all -c nextflow_slurm.config
Jul-12 13:52:08.304 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 23.04.3
Jul-12 13:52:08.330 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/Drives/O/USERS/gwajnber/.nextflow/plugins; core-plugins: nf-amazon@1.16.2,nf-azure@1.0.1,nf-codecommit@0.1.4,nf-console@1.0.5,nf-ga4gh@1.0.5,nf-google@1.7.3,nf-tower@1.5.12,nf-wave@0.8.4
Jul-12 13:52:08.378 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Jul-12 13:52:08.379 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Jul-12 13:52:08.383 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
Jul-12 13:52:08.396 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Jul-12 13:52:08.418 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /Drives/O/USERS/gwajnber/mob-rgi-nf/nextflow.config
Jul-12 13:52:08.421 [main] DEBUG nextflow.config.ConfigBuilder - User config file: /Drives/O/USERS/gwajnber/mob-rgi-nf/nextflow_slurm.config
Jul-12 13:52:08.422 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /Drives/O/USERS/gwajnber/mob-rgi-nf/nextflow.config
Jul-12 13:52:08.422 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /Drives/O/USERS/gwajnber/mob-rgi-nf/nextflow_slurm.config
Jul-12 13:52:08.450 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `conda`
Jul-12 13:52:08.995 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `conda`
Jul-12 13:52:09.115 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [conda, docker]
Jul-12 13:52:09.194 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 by global default
Jul-12 13:52:09.228 [main] INFO  nextflow.cli.CmdRun - Launching `download_databases.nf` [nauseous_hawking] DSL2 - revision: ab60c8e560
Jul-12 13:52:09.228 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Jul-12 13:52:09.228 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[]
Jul-12 13:52:09.244 [main] DEBUG nextflow.secret.LocalSecretsProvider - Secrets store: /Drives/O/USERS/gwajnber/.nextflow/secrets/store.json
Jul-12 13:52:09.249 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@2e869098] - activable => nextflow.secret.LocalSecretsProvider@2e869098
Jul-12 13:52:09.320 [main] DEBUG nextflow.Session - Session UUID: d03ec69f-8624-4a0c-8ff8-b54537173787
Jul-12 13:52:09.320 [main] DEBUG nextflow.Session - Run name: nauseous_hawking
Jul-12 13:52:09.321 [main] DEBUG nextflow.Session - Executor pool size: 144
Jul-12 13:52:09.335 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=432; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Jul-12 13:52:09.379 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 23.04.3 build 5875
  Created: 11-08-2023 18:37 UTC (13:37 CDT)
  System: Linux 3.10.0-1160.88.1.el7.x86_64
  Runtime: Groovy 3.0.16 on OpenJDK 64-Bit Server VM 20.0.2-internal-adhoc..src
  Encoding: UTF-8 (ANSI_X3.4-1968)
  Process: 362887@waffles-g-3.cscscience.ca [10.10.20.32]
  CPUs: 144 - Mem: 1007.1 GB (109.7 GB) - Swap: 4 GB (168 KB)
Jul-12 13:52:09.432 [main] DEBUG nextflow.Session - Work-dir: /Drives/O/USERS/gwajnber/mob-rgi-nf/work [nfs]
Jul-12 13:52:09.474 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Jul-12 13:52:09.488 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Jul-12 13:52:09.525 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Jul-12 13:52:09.546 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 145; maxThreads: 1000
Jul-12 13:52:09.690 [main] DEBUG nextflow.Session - Session start
Jul-12 13:52:10.151 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Jul-12 13:52:10.179 [main] INFO  nextflow.Nextflow - 

Download Databases
-------------------
MOB-suite databases: true
CARD json: true


Jul-12 13:52:10.224 [main] INFO  nextflow.script.BaseScript - Downloading CARD json file, please wait
Jul-12 13:52:10.302 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-12 13:52:10.302 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-12 13:52:10.320 [main] DEBUG nextflow.executor.Executor - [warm up] executor > slurm
Jul-12 13:52:10.336 [main] DEBUG n.processor.TaskPollingMonitor - Creating task monitor for executor 'slurm' > capacity: 2000; pollInterval: 5s; dumpInterval: 5m 
Jul-12 13:52:10.347 [main] DEBUG n.processor.TaskPollingMonitor - Creating submit rate limit of 10 submissions per 1 seconds
Jul-12 13:52:10.355 [main] DEBUG n.executor.AbstractGridExecutor - Creating executor 'slurm' > queue-stat-interval: 1m
Jul-12 13:52:10.465 [main] INFO  nextflow.script.BaseScript - Downloading MOB-suite databases, please wait
Jul-12 13:52:10.469 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: slurm
Jul-12 13:52:10.470 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'slurm'
Jul-12 13:52:10.476 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: download_CARD_WF:download_CARD_json, download_CARD_json, download_MOB_database, download_MOB_WF:download_MOB_database
Jul-12 13:52:10.477 [main] DEBUG nextflow.Session - Igniting dataflow network (2)
Jul-12 13:52:10.478 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > download_CARD_WF:download_CARD_json
Jul-12 13:52:10.479 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > download_MOB_WF:download_MOB_database
Jul-12 13:52:10.480 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Jul-12 13:52:10.480 [main] DEBUG nextflow.Session - Session await
Jul-12 13:52:10.644 [Actor Thread 9] INFO  nextflow.conda.CondaCache - Creating env using mamba: /Drives/O/USERS/gwajnber/mob-rgi-nf/environment.yml [cache /Drives/O/USERS/gwajnber/mob-rgi-nf/work/conda/mob-rgi-nf-475c7d3e0f9a16591ca9bcf33c950036]
Jul-12 13:55:07.308 [Actor Thread 6] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=download_MOB_WF:download_MOB_database; work-dir=null
  error [java.lang.IllegalStateException]: java.lang.IllegalStateException: Failed to create Conda environment
  command: mamba env create --prefix /Drives/O/USERS/gwajnber/mob-rgi-nf/work/conda/mob-rgi-nf-475c7d3e0f9a16591ca9bcf33c950036 --file /Drives/O/USERS/gwajnber/mob-rgi-nf/environment.yml
  status : 1
  message:

Jul-12 13:55:07.308 [Actor Thread 5] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=download_CARD_WF:download_CARD_json; work-dir=null
  error [java.lang.IllegalStateException]: java.lang.IllegalStateException: Failed to create Conda environment
  command: mamba env create --prefix /Drives/O/USERS/gwajnber/mob-rgi-nf/work/conda/mob-rgi-nf-475c7d3e0f9a16591ca9bcf33c950036 --file /Drives/O/USERS/gwajnber/mob-rgi-nf/environment.yml
  status : 1
  message:

Jul-12 13:55:07.313 [Actor Thread 1] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=download_CARD_WF:download_CARD_json; work-dir=null
  error [java.lang.InterruptedException]: java.lang.InterruptedException
Jul-12 13:55:07.328 [Actor Thread 6] ERROR nextflow.processor.TaskProcessor - Error executing process > 'download_MOB_WF:download_MOB_database'

Caused by:
  Failed to create Conda environment
  command: mamba env create --prefix /Drives/O/USERS/gwajnber/mob-rgi-nf/work/conda/mob-rgi-nf-475c7d3e0f9a16591ca9bcf33c950036 --file /Drives/O/USERS/gwajnber/mob-rgi-nf/environment.yml
  status : 1
  message:


java.lang.IllegalStateException: java.lang.IllegalStateException: Failed to create Conda environment
  command: mamba env create --prefix /Drives/O/USERS/gwajnber/mob-rgi-nf/work/conda/mob-rgi-nf-475c7d3e0f9a16591ca9bcf33c950036 --file /Drives/O/USERS/gwajnber/mob-rgi-nf/environment.yml
  status : 1
  message:

	at nextflow.conda.CondaCache.getCachePathFor(CondaCache.groovy:378)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:48)
	at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSite.invoke(PogoMetaMethodSite.java:166)
	at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.call(PogoMetaMethodSite.java:69)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)
	at nextflow.processor.TaskRun.getCondaEnv0(TaskRun.groovy:596)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:362)
	at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:61)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:176)
	at nextflow.processor.TaskRun$_getCondaEnv_closure5.doCall(TaskRun.groovy:588)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:274)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)
	at groovy.lang.Closure.call(Closure.java:412)
	at org.codehaus.groovy.runtime.ConvertedClosure.invokeCustom(ConvertedClosure.java:50)
	at org.codehaus.groovy.runtime.ConversionHandler.invoke(ConversionHandler.java:112)
	at jdk.proxy1/jdk.proxy1.$Proxy29.apply(Unknown Source)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:48)
	at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite$PojoCachedMethodSiteNoUnwrap.invoke(PojoMetaMethodSite.java:198)
	at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite.call(PojoMetaMethodSite.java:51)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:148)
	at nextflow.processor.TaskRun.getCondaEnv(TaskRun.groovy:588)
	at nextflow.processor.TaskRun$getCondaEnv$11.call(Unknown Source)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:130)
	at nextflow.processor.TaskProcessor.createTaskHashKey(TaskProcessor.groovy:2097)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:48)
	at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:189)
	at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:57)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)
	at nextflow.processor.TaskProcessor.invokeTask(TaskProcessor.groovy:617)
	at nextflow.processor.InvokeTaskAdapter.call(InvokeTaskAdapter.groovy:52)
	at groovyx.gpars.dataflow.operator.DataflowOperatorActor.startTask(DataflowOperatorActor.java:120)
	at groovyx.gpars.dataflow.operator.ForkingDataflowOperatorActor.access$001(ForkingDataflowOperatorActor.java:35)
	at groovyx.gpars.dataflow.operator.ForkingDataflowOperatorActor$1.run(ForkingDataflowOperatorActor.java:58)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.IllegalStateException: Failed to create Conda environment
  command: mamba env create --prefix /Drives/O/USERS/gwajnber/mob-rgi-nf/work/conda/mob-rgi-nf-475c7d3e0f9a16591ca9bcf33c950036 --file /Drives/O/USERS/gwajnber/mob-rgi-nf/environment.yml
  status : 1
  message:

	at nextflow.conda.CondaCache.runCommand(CondaCache.groovy:327)
	at nextflow.conda.CondaCache.createLocalCondaEnv0(CondaCache.groovy:299)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1258)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)
	at org.codehaus.groovy.runtime.InvokerHelper.invokePogoMethod(InvokerHelper.java:1036)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:1019)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethodSafe(InvokerHelper.java:97)
	at nextflow.conda.CondaCache$_createLocalCondaEnv_closure1.doCall(CondaCache.groovy:256)
	at nextflow.conda.CondaCache$_createLocalCondaEnv_closure1.call(CondaCache.groovy)
	at nextflow.file.FileMutex.lock(FileMutex.groovy:106)
	at nextflow.conda.CondaCache.createLocalCondaEnv(CondaCache.groovy:256)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1258)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)
	at org.codehaus.groovy.runtime.InvokerHelper.invokePogoMethod(InvokerHelper.java:1036)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:1019)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethodSafe(InvokerHelper.java:97)
	at nextflow.conda.CondaCache$_getLazyImagePath_closure3.doCall(CondaCache.groovy:355)
	at nextflow.conda.CondaCache$_getLazyImagePath_closure3.call(CondaCache.groovy)
	at groovyx.gpars.dataflow.LazyDataflowVariable$1.run(LazyDataflowVariable.java:70)
	... 3 common frames omitted
Jul-12 13:55:07.333 [Actor Thread 6] DEBUG nextflow.Session - Session aborted -- Cause: java.lang.IllegalStateException: Failed to create Conda environment
  command: mamba env create --prefix /Drives/O/USERS/gwajnber/mob-rgi-nf/work/conda/mob-rgi-nf-475c7d3e0f9a16591ca9bcf33c950036 --file /Drives/O/USERS/gwajnber/mob-rgi-nf/environment.yml
  status : 1
  message:

Jul-12 13:55:07.352 [Actor Thread 6] DEBUG nextflow.Session - The following nodes are still active:
[process] download_MOB_WF:download_MOB_database
  status=ACTIVE
  port 0: (cntrl) -     ; channel: $

Jul-12 13:55:07.355 [main] DEBUG nextflow.Session - Session await > all processes finished
Jul-12 13:55:07.355 [Actor Thread 2] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=download_MOB_WF:download_MOB_database; work-dir=null
  error [java.lang.InterruptedException]: java.lang.InterruptedException
Jul-12 13:55:07.356 [main] DEBUG nextflow.Session - Session await > all barriers passed
Jul-12 13:55:07.372 [main] DEBUG nextflow.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=0; failedCount=0; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=0ms; failedDuration=0ms; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=0; peakCpus=0; peakMemory=0; ]
Jul-12 13:55:07.579 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Jul-12 13:55:07.616 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
